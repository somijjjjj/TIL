# 이진 탐색 트리(binary search tree)

이진 탐색 트리는 데이터 구조의 하나로, 그래프의 트리 구조를 사용한다.
이진탐색 트리에서는 각 노드에 데이터가 저장된다.

각 노드는 최대 두 개의 자식노드를 가진다.  
이진 탐색 트리는 두 가지 성질을 지닌다.  
	1. 모든 노드는 왼쪽 가지에 포함되는 어떤 숫자보다도 큰 숫자가 된다.  
    2. 모든 모드는 그 노드의 오른쪽 가지에 포함되는 어떤 숫자보다 작은 숫자가 된다.

이 두 개의 성질로부터 다음 조건이 성립된다.
- 이진 탐색 트리의 최소 노드는 최상단에 있는 노드로부터 왼쪽 가지만 계속 따라가면 나오는 가장 끝에 있는 노드가 된다.
- 이진 탐색 트리에서 최대 노드는 최상단의 노드로부터 오른쪽 가지만 계속 따라가면 나오는 가장 끝에 있는 노드가 된다.

<br>

[사진출처](https://code-lab1.tistory.com/10)
![](https://velog.velcdn.com/images/silver0/post/d86a14bc-f288-4f33-a8a2-c3fbc4dc11da/image.png)


### 데이터 추가 

이진 탐색 트리의 최상단 노드부터 탐색한다. 추가하려고 하는 데이터를 현재 노드 값과 비교해서
작으면 왼쪽으로 크면 오른쪽으로 진행한다. 노드가 없으면 새로운 노드를 추가한다.

### 데이터 삭제

자식 노드가 없는 노드는 대상 노드만 삭제하면 작업이 끝난다.  
자식 노드가 하나인 노드를 삭제할 때는 대상 노드를 삭제하고 삭제한 노드의 위치로 자식 노드를 이동시키면 된다.  
자식 노드가 두 개인 경우는 대상 노드를 삭제하고 삭제한 노드에서 왼쪽 가지의 최대 노드를 찾는다.  
- 혹은 오른쪽 가지의 최소 노드를 찾아도 된다.  
삭제한 노드의 위치로 이동시키면 이진 탐색 트리의 성질을 유지하면서 노드를 삭제할 수 있다.  
이동 대상 노드도 자식 노드를 지니는 경우에는 같은 처리를 재귀적으로 반복하면 된다.  

### 데이터 탐색

최상단 노드부터 탐색을 시작한다. 현재 노드값과 비교해서 작으면 왼쪽, 크면 오른쪽으로 탐색을 진행한다.

### 계산 시간

트리의 높이만큼만 비교하면 되므로 노드가 n개 있고 트리가 균형 잡힌 경우라면 최대 log $_2$ n회의 비교로 이동할 수 있다.  
따라서 계산 시간은 O(log n)이 된다.  
단, 트리가 한쪽으로 치우쳐서 직선에 가까운 모양인 경우에는 트리가 높아져서 O(n)이 될 수 있다.  

이진 탐색 트리를 확장한 데이터 구조는 여러 개가 있다. 예를 들어, 트리가 한쪽으로 치우친 경우 모양을 바로잡기 위해 항상 균형을 유지하도록 하는 구조도 있다.  
'자가 균형 이진 탐색 트리(self-balancing binary search tree)'라고 하며, 탐색 효율을 유지할 수 있다.  
이진 탐색 트리에서는 하나의 노드가 가질 수 있는 자식 노드가 최대 두개였지만, 이것을 m개로 확장해서 자식 수에 제한을 두지 않고 트리의 균형을 도모한 'B트리'라는 것도 있다.  


---

<br>
<br>

> Reference
>- 『알고리즘 도감』, 이시다 모리테루, 미야자키 쇼이치 - 제이펍